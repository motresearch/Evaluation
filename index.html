<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Employee Evaluation Form</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Khmer&family=Noto+Sans+Khmer:wght@100..900&display=swap" rel="stylesheet">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Noto Sans Khmer', 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            -webkit-tap-highlight-color: transparent; /* Remove tap highlight on iOS */
        }
        
        body {
            background-color: #f5f7fa;
            color: #333;
            line-height: 1.6;
            padding: 20px;
        }
        
        .container {
            max-width: 1000px;
            margin: 0 auto;
            background-color: white;
            border-radius: 10px;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
            padding: 30px;
        }
        
        header {
            text-align: center;
            margin-bottom: 30px;
            padding-bottom: 20px;
            border-bottom: 2px solid #eaeaea;
        }
        
        h1 {
            color: #2c3e50;
            margin-bottom: 10px;
            font-size: 28px;
            font-family: 'Noto Sans Khmer', 'Khmer', serif;
        }
        
        .subtitle {
            color: #7f8c8d;
            font-size: 16px;
            margin-bottom: 5px;
        }
        
        .form-section {
            margin-bottom: 30px;
        }
        
        .section-title {
            background-color: #3498db;
            color: white;
            padding: 12px 15px;
            border-radius: 5px;
            margin-bottom: 20px;
            font-size: 18px;
        }
        
        .criteria-container {
            margin-bottom: 25px;
        }
        
        .criteria-title {
            font-weight: 600;
            margin-bottom: 10px;
            font-size: 16px;
            color: #2c3e50;
        }
        
        .khmer-text {
            font-family: 'Noto Sans Khmer', 'Khmer', 'Arial', sans-serif;
            color: #2c3e50;
        }
        
        .rating-scale {
            display: flex;
            justify-content: space-between;
            margin-top: 10px;
            max-width: 300px;
        }
        
        .rating-option {
            display: flex;
            flex-direction: column;
            align-items: center;
            cursor: pointer;
        }
        
        .rating-number {
            width: 40px;
            height: 40px;
            border-radius: 50%;
            background-color: #ecf0f1;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: bold;
            margin-bottom: 5px;
            transition: all 0.2s;
        }
        
        .rating-option input {
            display: none;
        }
        
        .rating-option input:focus + .rating-number {
            outline: 2px solid #3498db;
            outline-offset: 2px;
        }
        
        /* Better focus states for accessibility */
        button:focus,
        .rating-option input:focus {
            outline: 2px solid #3498db;
            outline-offset: 2px;
        }
        
        /* Prevent zoom on input focus in iOS */
        input[type="text"],
        select,
        button {
            font-size: 16px; /* Prevents zoom on iOS */
        }
        
        .rating-label {
            font-size: 12px;
            color: #7f8c8d;
        }
        
        .employee-info {
            background-color: #f8f9fa;
            padding: 20px;
            border-radius: 5px;
            margin-bottom: 30px;
            text-align: center;
        }
        
        .form-group {
            margin-bottom: 20px;
        }
        
        label {
            display: block;
            margin-bottom: 8px;
            font-weight: 600;
        }
        
        select {
            width: 100%;
            padding: 12px 15px;
            border: 1px solid #ddd;
            border-radius: 5px;
            font-size: 16px;
            background-color: white;
            cursor: pointer;
        }
        
        input[type="text"] {
            width: 100%;
            padding: 12px 15px;
            border: 1px solid #ddd;
            border-radius: 5px;
            font-size: 16px;
        }
        
        .form-actions {
            display: flex;
            justify-content: center;
            gap: 20px;
            margin-top: 40px;
        }
        
        button {
            padding: 14px 30px;
            border: none;
            border-radius: 5px;
            font-size: 16px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s;
        }
        
        .submit-btn {
            background-color: #2ecc71;
            color: white;
        }
        
        .submit-btn:hover {
            background-color: #27ae60;
        }
        
        .reset-btn {
            background-color: #e74c3c;
            color: white;
        }
        
        .reset-btn:hover {
            background-color: #c0392b;
        }
        
        .summary-section {
            margin-top: 30px;
            padding: 20px;
            background-color: #f8f9fa;
            border-radius: 5px;
            display: none;
        }
        
        .summary-section h3 {
            margin-bottom: 15px;
            color: #2c3e50;
        }
        
        .score-display {
            font-size: 20px;
            font-weight: bold;
            color: #3498db;
        }
        
        .criteria-scores {
            margin-top: 15px;
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(200px, 1fr));
            gap: 10px;
        }
        
        .criteria-score-item {
            padding: 8px;
            background-color: white;
            border-radius: 4px;
            border-left: 4px solid #3498db;
        }
        
        .table-responsive {
            overflow-x: auto;
            -webkit-overflow-scrolling: touch;
        }
        
        .table-responsive table {
            min-width: 600px;
            white-space: nowrap;
        }
        
        footer {
            margin-top: 30px;
            text-align: center;
            color: #7f8c8d;
            font-size: 14px;
            padding-top: 20px;
            border-top: 1px solid #eaeaea;
        }
        
        /* Mobile Responsiveness */
        @media (max-width: 1024px) {
            .container {
                max-width: 95%;
                padding: 20px;
            }
            
            h1 {
                font-size: 24px;
            }
            
            .section-title {
                font-size: 16px;
                padding: 10px 12px;
            }
        }
        
        @media (max-width: 768px) {
            body {
                padding: 10px;
            }
            
            .container {
                padding: 15px;
                border-radius: 8px;
                box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
            }
            
            header {
                margin-bottom: 20px;
                padding-bottom: 15px;
            }
            
            h1 {
                font-size: 20px;
                margin-bottom: 8px;
            }
            
            .subtitle {
                font-size: 14px;
                margin-bottom: 3px;
            }
            
            .employee-info {
                padding: 15px;
            }
            
            .form-section {
                margin-bottom: 25px;
            }
            
            .section-title {
                font-size: 15px;
                padding: 8px 10px;
                margin-bottom: 15px;
            }
            
            .criteria-container {
                margin-bottom: 20px;
            }
            
            .criteria-title {
                font-size: 15px;
                margin-bottom: 8px;
            }
            
            .rating-scale {
                max-width: 100%;
                flex-wrap: wrap;
                gap: 8px;
                justify-content: center;
            }
            
            .rating-option {
                min-width: 44px; /* Minimum touch target */
                margin: 2px;
            }
            
            .rating-number {
                width: 40px;
                height: 40px;
                font-size: 16px;
            }
            
            .rating-label {
                font-size: 11px;
                margin-top: 2px;
            }
            
            .form-actions {
                flex-direction: column;
                gap: 15px;
                margin-top: 30px;
            }
            
            button {
                width: 100%;
                min-height: 48px; /* Minimum touch target */
                font-size: 16px;
                padding: 12px 20px;
            }
            
            .summary-section {
                padding: 15px;
            }
            
            .score-display {
                font-size: 18px;
            }
            
            .criteria-scores {
                grid-template-columns: 1fr;
                gap: 8px;
            }
            
            .criteria-score-item {
                padding: 6px;
                font-size: 14px;
            }
            
            footer {
                font-size: 13px;
                padding-top: 15px;
            }
        }
        
        @media (max-width: 480px) {
            body {
                padding: 5px;
            }
            
            .container {
                padding: 10px;
                margin: 0;
                border-radius: 5px;
            }
            
            h1 {
                font-size: 18px;
                line-height: 1.3;
            }
            
            .subtitle {
                font-size: 13px;
            }
            
            .employee-info {
                padding: 12px;
            }
            
            #employeeDisplay {
                font-size: 18px;
            }
            
            .section-title {
                font-size: 14px;
                padding: 6px 8px;
            }
            
            .criteria-title {
                font-size: 14px;
                line-height: 1.4;
            }
            
            .rating-scale {
                gap: 6px;
            }
            
            .rating-option {
                min-width: 40px;
            }
            
            .rating-number {
                width: 36px;
                height: 36px;
                font-size: 15px;
            }
            
            .rating-label {
                font-size: 10px;
            }
            
            .form-actions {
                gap: 12px;
                margin-top: 25px;
            }
            
            button {
                min-height: 44px;
                font-size: 15px;
                padding: 10px 16px;
            }
            
            .summary-section {
                padding: 12px;
            }
            
            .score-display {
                font-size: 16px;
            }
            
            .criteria-score-item {
                padding: 5px;
                font-size: 13px;
            }
            
            footer {
                font-size: 12px;
            }
            
            /* Responsive table for results */
            #allResultsContent table {
                font-size: 12px;
            }
            
            #allResultsContent th,
            #allResultsContent td {
                padding: 6px 4px;
                word-break: break-word;
            }
            
            #allResultsContent th {
                font-size: 11px;
            }
        }
        
        /* Touch device optimizations */
        @media (hover: none) and (pointer: coarse) {
            .rating-option {
                transition: none; /* Remove transitions for better performance on touch */
            }
            
            .rating-option:active {
                transform: scale(0.95);
            }
            
            button:active {
                transform: scale(0.98);
            }
        }
        
        /* High DPI displays */
        @media (-webkit-min-device-pixel-ratio: 2), (min-resolution: 192dpi) {
            .container {
                box-shadow: 0 2px 8px rgba(0, 0, 0, 0.08);
            }
        }
        
        /* Landscape orientation adjustments */
        @media (max-height: 500px) and (orientation: landscape) {
            body {
                padding: 5px;
            }
            
            .container {
                padding: 10px;
            }
            
            h1 {
                font-size: 16px;
                margin-bottom: 5px;
            }
            
            .rating-scale {
                margin-top: 5px;
            }
            
            .form-actions {
                margin-top: 20px;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <header>
            <h1>លក្ខណៈវិនិច្ឆ័យសម្រាប់វាយតម្លៃមន្ត្រីឆ្នើម
នៃនាយកដ្ឋានសិក្សាស្រាវជ្រាវ និងគោលនយោបាយទេសចរណ៍</h1>
            <p class="subtitle">កម្រងសំណួរវាយតម្លៃប្រសិទ្ធភាពមន្ត្រី</p>
            <p class="subtitle">សូមផ្ដល់ពិន្ទុពី ១ ដល់ ៥ ទៅតាមលក្ខណៈវិនិច្ឆ័យដូចខាងក្រោម៖</p>
            <p class="subtitle">សូមជ្រើសរើសឈ្មោះមន្ត្រីដែលត្រូវវាយតម្លៃពីបញ្ជីខាងក្រោម៖</p>
        </header>
        
        <div class="employee-info">
            <div class="form-group">
                <label for="employeeDisplay">ឈ្មោះមន្ត្រីដែលត្រូវវាយតម្លៃ</label>
                <h1 id="employeeDisplay" style="font-size: 40px;">-- Select an employee / សូមជ្រើសរើសមន្ត្រី --</h1>
            </div>
        </div>
        
        <form id="evaluationForm" novalidate>
            <div class="form-section">
                <div class="section-title">
                    ក- លក្ខណសម្បត្តិរបស់មន្ត្រី 
                </div>
                
                <!-- Criteria 1 -->
                <div class="criteria-container">
                    <div class="criteria-title">
                        1. ការគោរពវិន័យ និងបទបញ្ជាផ្ទៃក្នុង 
                    </div>
                    <div class="rating-scale">
                        <label class="rating-option">
                            <input type="radio" name="criteria1" value="1">
                            <div class="rating-number">1</div>
                            <div class="rating-label">Poor</div>
                        </label>
                        <label class="rating-option">
                            <input type="radio" name="criteria1" value="2">
                            <div class="rating-number">2</div>
                            <div class="rating-label">Fair</div>
                        </label>
                        <label class="rating-option">
                            <input type="radio" name="criteria1" value="3">
                            <div class="rating-number">3</div>
                            <div class="rating-label">Good</div>
                        </label>
                        <label class="rating-option">
                            <input type="radio" name="criteria1" value="4">
                            <div class="rating-number">4</div>
                            <div class="rating-label">Very Good</div>
                        </label>
                        <label class="rating-option">
                            <input type="radio" name="criteria1" value="5">
                            <div class="rating-number">5</div>
                            <div class="rating-label">Excellent</div>
                        </label>
                    </div>
                </div>
                
                <!-- Criteria 2 -->
                <div class="criteria-container">
                    <div class="criteria-title">
                        2. សាមគ្គីភាព និងឯកភាពផ្ទៃក្នុង
                    </div>
                    <div class="rating-scale">
                        <label class="rating-option">
                            <input type="radio" name="criteria2" value="1">
                            <div class="rating-number">1</div>
                            <div class="rating-label">Poor</div>
                        </label>
                        <label class="rating-option">
                            <input type="radio" name="criteria2" value="2">
                            <div class="rating-number">2</div>
                            <div class="rating-label">Fair</div>
                        </label>
                        <label class="rating-option">
                            <input type="radio" name="criteria2" value="3">
                            <div class="rating-number">3</div>
                            <div class="rating-label">Good</div>
                        </label>
                        <label class="rating-option">
                            <input type="radio" name="criteria2" value="4">
                            <div class="rating-number">4</div>
                            <div class="rating-label">Very Good</div>
                        </label>
                        <label class="rating-option">
                            <input type="radio" name="criteria2" value="5">
                            <div class="rating-number">5</div>
                            <div class="rating-label">Excellent</div>
                        </label>
                    </div>
                </div>
                
                <!-- Criteria 3 -->
                <div class="criteria-container">
                    <div class="criteria-title">
                        3. សីលធម៌រស់នៅ និងការងារ
                    </div>
                    <div class="rating-scale">
                        <label class="rating-option">
                            <input type="radio" name="criteria3" value="1">
                            <div class="rating-number">1</div>
                            <div class="rating-label">Poor</div>
                        </label>
                        <label class="rating-option">
                            <input type="radio" name="criteria3" value="2">
                            <div class="rating-number">2</div>
                            <div class="rating-label">Fair</div>
                        </label>
                        <label class="rating-option">
                            <input type="radio" name="criteria3" value="3">
                            <div class="rating-number">3</div>
                            <div class="rating-label">Good</div>
                        </label>
                        <label class="rating-option">
                            <input type="radio" name="criteria3" value="4">
                            <div class="rating-number">4</div>
                            <div class="rating-label">Very Good</div>
                        </label>
                        <label class="rating-option">
                            <input type="radio" name="criteria3" value="5">
                            <div class="rating-number">5</div>
                            <div class="rating-label">Excellent</div>
                        </label>
                    </div>
                </div>
                
                <!-- Criteria 4 -->
                <div class="criteria-container">
                    <div class="criteria-title">
                        4. គុណធម៌ជាមួយក្រុមការងារ និងក្នុងកិច្ចការសង្គមផ្សេងៗ
                    </div>
                    <div class="rating-scale">
                        <label class="rating-option">
                            <input type="radio" name="criteria4" value="1">
                            <div class="rating-number">1</div>
                            <div class="rating-label">Poor</div>
                        </label>
                        <label class="rating-option">
                            <input type="radio" name="criteria4" value="2">
                            <div class="rating-number">2</div>
                            <div class="rating-label">Fair</div>
                        </label>
                        <label class="rating-option">
                            <input type="radio" name="criteria4" value="3">
                            <div class="rating-number">3</div>
                            <div class="rating-label">Good</div>
                        </label>
                        <label class="rating-option">
                            <input type="radio" name="criteria4" value="4">
                            <div class="rating-number">4</div>
                            <div class="rating-label">Very Good</div>
                        </label>
                        <label class="rating-option">
                            <input type="radio" name="criteria4" value="5">
                            <div class="rating-number">5</div>
                            <div class="rating-label">Excellent</div>
                        </label>
                    </div>
                </div>
                
                <!-- Criteria 5 -->
                <div class="criteria-container">
                    <div class="criteria-title">
                        5. ការចែករំលែក និងការផ្ទេរចំណេះដឹងជាមួយក្រុមការងារ
                    </div>
                    <div class="rating-scale">
                        <label class="rating-option">
                            <input type="radio" name="criteria5" value="1">
                            <div class="rating-number">1</div>
                            <div class="rating-label">Poor</div>
                        </label>
                        <label class="rating-option">
                            <input type="radio" name="criteria5" value="2">
                            <div class="rating-number">2</div>
                            <div class="rating-label">Fair</div>
                        </label>
                        <label class="rating-option">
                            <input type="radio" name="criteria5" value="3">
                            <div class="rating-number">3</div>
                            <div class="rating-label">Good</div>
                        </label>
                        <label class="rating-option">
                            <input type="radio" name="criteria5" value="4">
                            <div class="rating-number">4</div>
                            <div class="rating-label">Very Good</div>
                        </label>
                        <label class="rating-option">
                            <input type="radio" name="criteria5" value="5">
                            <div class="rating-number">5</div>
                            <div class="rating-label">Excellent</div>
                        </label>
                    </div>
                </div>
                
                <!-- Criteria 6 -->
                <div class="criteria-container">
                    <div class="criteria-title">
                        6. អនាម័យផ្ទាល់ខ្លួន និងរួម 
                    </div>
                    <div class="rating-scale">
                        <label class="rating-option">
                            <input type="radio" name="criteria6" value="1">
                            <div class="rating-number">1</div>
                            <div class="rating-label">Poor</div>
                        </label>
                        <label class="rating-option">
                            <input type="radio" name="criteria6" value="2">
                            <div class="rating-number">2</div>
                            <div class="rating-label">Fair</div>
                        </label>
                        <label class="rating-option">
                            <input type="radio" name="criteria6" value="3">
                            <div class="rating-number">3</div>
                            <div class="rating-label">Good</div>
                        </label>
                        <label class="rating-option">
                            <input type="radio" name="criteria6" value="4">
                            <div class="rating-number">4</div>
                            <div class="rating-label">Very Good</div>
                        </label>
                        <label class="rating-option">
                            <input type="radio" name="criteria6" value="5">
                            <div class="rating-number">5</div>
                            <div class="rating-label">Excellent</div>
                        </label>
                    </div>
                </div>
            </div>
            
            <div class="form-section">
                <div class="section-title">
                    ខ- សមត្ថភាព និងលទ្ធផលការងារ 
                </div>
                
                <!-- Criteria 7 -->
                <div class="criteria-container">
                    <div class="criteria-title">
                        7. សមត្ថភាពដឹកនាំ 
                    </div>
                    <div class="rating-scale">
                        <label class="rating-option">
                            <input type="radio" name="criteria7" value="1">
                            <div class="rating-number">1</div>
                            <div class="rating-label">Poor</div>
                        </label>
                        <label class="rating-option">
                            <input type="radio" name="criteria7" value="2">
                            <div class="rating-number">2</div>
                            <div class="rating-label">Fair</div>
                        </label>
                        <label class="rating-option">
                            <input type="radio" name="criteria7" value="3">
                            <div class="rating-number">3</div>
                            <div class="rating-label">Good</div>
                        </label>
                        <label class="rating-option">
                            <input type="radio" name="criteria7" value="4">
                            <div class="rating-number">4</div>
                            <div class="rating-label">Very Good</div>
                        </label>
                        <label class="rating-option">
                            <input type="radio" name="criteria7" value="5">
                            <div class="rating-number">5</div>
                            <div class="rating-label">Excellent</div>
                        </label>
                    </div>
                </div>
                
                <!-- Criteria 8 -->
                <div class="criteria-container">
                    <div class="criteria-title">
                        8. គំនិតច្នៃប្រឌិត 
                    </div>
                    <div class="rating-scale">
                        <label class="rating-option">
                            <input type="radio" name="criteria8" value="1">
                            <div class="rating-number">1</div>
                            <div class="rating-label">Poor</div>
                        </label>
                        <label class="rating-option">
                            <input type="radio" name="criteria8" value="2">
                            <div class="rating-number">2</div>
                            <div class="rating-label">Fair</div>
                        </label>
                        <label class="rating-option">
                            <input type="radio" name="criteria8" value="3">
                            <div class="rating-number">3</div>
                            <div class="rating-label">Good</div>
                        </label>
                        <label class="rating-option">
                            <input type="radio" name="criteria8" value="4">
                            <div class="rating-number">4</div>
                            <div class="rating-label">Very Good</div>
                        </label>
                        <label class="rating-option">
                            <input type="radio" name="criteria8" value="5">
                            <div class="rating-number">5</div>
                            <div class="rating-label">Excellent</div>
                        </label>
                    </div>
                </div>
                
                <!-- Criteria 9 -->
                <div class="criteria-container">
                    <div class="criteria-title">
                        9. ការទទួលខុសត្រូវលើការងារ
                    </div>
                    <div class="rating-scale">
                        <label class="rating-option">
                            <input type="radio" name="criteria9" value="1">
                            <div class="rating-number">1</div>
                            <div class="rating-label">Poor</div>
                        </label>
                        <label class="rating-option">
                            <input type="radio" name="criteria9" value="2">
                            <div class="rating-number">2</div>
                            <div class="rating-label">Fair</div>
                        </label>
                        <label class="rating-option">
                            <input type="radio" name="criteria9" value="3">
                            <div class="rating-number">3</div>
                            <div class="rating-label">Good</div>
                        </label>
                        <label class="rating-option">
                            <input type="radio" name="criteria9" value="4">
                            <div class="rating-number">4</div>
                            <div class="rating-label">Very Good</div>
                        </label>
                        <label class="rating-option">
                            <input type="radio" name="criteria9" value="5">
                            <div class="rating-number">5</div>
                            <div class="rating-label">Excellent</div>
                        </label>
                    </div>
                </div>
                
                <!-- Criteria 10 -->
                <div class="criteria-container">
                    <div class="criteria-title">
                        10. ការសម្រេចភារកិច្ច
                    </div>
                    <div class="rating-scale">
                        <label class="rating-option">
                            <input type="radio" name="criteria10" value="1">
                            <div class="rating-number">1</div>
                            <div class="rating-label">Poor</div>
                        </label>
                        <label class="rating-option">
                            <input type="radio" name="criteria10" value="2">
                            <div class="rating-number">2</div>
                            <div class="rating-label">Fair</div>
                        </label>
                        <label class="rating-option">
                            <input type="radio" name="criteria10" value="3">
                            <div class="rating-number">3</div>
                            <div class="rating-label">Good</div>
                        </label>
                        <label class="rating-option">
                            <input type="radio" name="criteria10" value="4">
                            <div class="rating-number">4</div>
                            <div class="rating-label">Very Good</div>
                        </label>
                        <label class="rating-option">
                            <input type="radio" name="criteria10" value="5">
                            <div class="rating-number">5</div>
                            <div class="rating-label">Excellent</div>
                        </label>
                    </div>
                </div>
                
                <!-- Criteria 11 -->
                <div class="criteria-container">
                    <div class="criteria-title">
                        11. ការអភិវឌ្ឍចំណេះដឹងជាប្រចាំ
                    </div>
                    <div class="rating-scale">
                        <label class="rating-option">
                            <input type="radio" name="criteria11" value="1">
                            <div class="rating-number">1</div>
                            <div class="rating-label">Poor</div>
                        </label>
                        <label class="rating-option">
                            <input type="radio" name="criteria11" value="2">
                            <div class="rating-number">2</div>
                            <div class="rating-label">Fair</div>
                        </label>
                        <label class="rating-option">
                            <input type="radio" name="criteria11" value="3">
                            <div class="rating-number">3</div>
                            <div class="rating-label">Good</div>
                        </label>
                        <label class="rating-option">
                            <input type="radio" name="criteria11" value="4">
                            <div class="rating-number">4</div>
                            <div class="rating-label">Very Good</div>
                        </label>
                        <label class="rating-option">
                            <input type="radio" name="criteria11" value="5">
                            <div class="rating-number">5</div>
                            <div class="rating-label">Excellent</div>
                        </label>
                    </div>
                </div>
                
                <!-- Criteria 12 -->
                <div class="criteria-container">
                    <div class="criteria-title">
                        12. ការដោះស្រាយបញ្ហា
                    </div>
                    <div class="rating-scale">
                        <label class="rating-option">
                            <input type="radio" name="criteria12" value="1">
                            <div class="rating-number">1</div>
                            <div class="rating-label">Poor</div>
                        </label>
                        <label class="rating-option">
                            <input type="radio" name="criteria12" value="2">
                            <div class="rating-number">2</div>
                            <div class="rating-label">Fair</div>
                        </label>
                        <label class="rating-option">
                            <input type="radio" name="criteria12" value="3">
                            <div class="rating-number">3</div>
                            <div class="rating-label">Good</div>
                        </label>
                        <label class="rating-option">
                            <input type="radio" name="criteria12" value="4">
                            <div class="rating-number">4</div>
                            <div class="rating-label">Very Good</div>
                        </label>
                        <label class="rating-option">
                            <input type="radio" name="criteria12" value="5">
                            <div class="rating-number">5</div>
                            <div class="rating-label">Excellent</div>
                        </label>
                    </div>
                </div>
            </div>
            
            <div class="form-actions">
                <button type="button" class="reset-btn" id="resetBtn">Reset Form / សម្អាត</button>
                <button type="submit" class="submit-btn">Submit Evaluation / ដាក់ស្នើ</button>
            </div>
        </form>
        
        <div class="summary-section" id="summarySection">
            <h3>Evaluation Summary / សេចក្តីសង្ខេបការវាយតម្លៃ</h3>
            <p>Employee / មន្ត្រី: <strong><span id="summaryEmployee"></span></strong></p>
            <p>Total Score / ពិន្ទុសរុប: <span id="totalScore" class="score-display">0</span> out of 60 / ក្នុងចំណោម ៦០</p>
            <p>Average Score / ពិន្ទុមធ្យម: <span id="averageScore" class="score-display">0</span> out of 5 / ក្នុងចំណោម ៥</p>
            <p>Evaluation Date / កាលបរិច្ឆេទ: <span id="evaluationDate"></span></p>
            
            <div class="criteria-scores" id="criteriaScores">
                <!-- Individual criteria scores will be added here by JavaScript -->
            </div>
        </div>
        
        <div class="summary-section" id="allResultsSection" style="display: none;">
            <h3>All Evaluation Results / លទ្ធផលការវាយតម្លៃទាំងអស់</h3>
            <div id="allResultsContent"></div>
        </div>
        
        <footer>
            <p>Evaluation System &copy; 2025</p>
            <p>ប្រព័ន្ធវាយតម្លៃប្រសិទ្ធភាពមន្ត្រី</p>
        </footer>
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', function() {
            // Temporarily disabled for testing: Check if user has already completed evaluations
            
            if (localStorage.getItem('evaluated') === 'true') {
                document.body.innerHTML = '<div style="text-align: center; padding: 50px; font-family: Noto Sans Khmer, Arial, sans-serif;"><h1>You have already completed the evaluations!</h1><p>Thank you for participating.</p><button onclick="window.close()" style="padding: 10px 20px; background: #3498db; color: white; border: none; cursor: pointer; margin-top: 20px;">Exit / ចាកចេញ</button></div>';
                return;
            }
            
            
            const form = document.getElementById('evaluationForm');
            const resetBtn = document.getElementById('resetBtn');
            const employeeDisplay = document.getElementById('employeeDisplay');
            const summarySection = document.getElementById('summarySection');
            const summaryEmployee = document.getElementById('summaryEmployee');
            const totalScore = document.getElementById('totalScore');
            const averageScore = document.getElementById('averageScore');
            const evaluationDate = document.getElementById('evaluationDate');
            const criteriaScores = document.getElementById('criteriaScores');
            const allResultsSection = document.getElementById('allResultsSection');
            const allResultsContent = document.getElementById('allResultsContent');
            
            let currentIndex = 0;
            let evaluations = [];
            const employees = [
                "ម៉ឹង សុវណ្ណដែន",
                "តុប សុផាន",
                "កង សានត្រាណ",
                "ជោត ខេមរិទ្ធិ",
                "ពឹង សុងពិសិដ្ឋ",
                "ខែម ហន",
                "ស ធិរាជ",
                "ឈិន រតនា",
                "វ៉ា សារិត",
                "ចុង ស៊ីណា",
                "ម៉ៅ វីរះ",
                "សិញ ស៊ីផាវត្តីយ៍",
                "ជើង សៅគន្ធវារី",
                "សេង វិបុល",
                "ផន ស្រីនី",
                "រិទ្ធ បូរា",
                "វ៉ូយ លីហ្វុង",
                "ជួន រក្សា",
                "ដែន រស្មីមុន្នី",
                "គឹមសួរ សុដានីន"
                
            ];
            
            function updateDisplay() {
                if (currentIndex === -1) {
                    employeeDisplay.textContent = '-- Select an employee / សូមជ្រើសរើសមន្ត្រី --';
                } else {
                    employeeDisplay.textContent = employees[currentIndex];
                }
            }
            
            // Initialize display
            updateDisplay();
            
            // Handle form submission
            form.addEventListener('submit', function(e) {
                e.preventDefault();
                
                // Check if employee is selected
                let selectedEmployee = '';
                if (currentIndex !== -1) {
                    selectedEmployee = employees[currentIndex];
                }
                if (!selectedEmployee) {
                    alert('Please select an employee to evaluate / សូមជ្រើសរើសមន្ត្រីដើម្បីវាយតម្លៃ');
                    return;
                }
                
                const now = new Date();
                const options = { year: 'numeric', month: 'long', day: 'numeric' };
                
                // Calculate total score
                let score = 0;
                let criteriaCount = 0;
                let allRated = true;
                let individualScores = [];
                
                // Check all criteria are rated
                for (let i = 1; i <= 12; i++) {
                    const criteriaName = 'criteria' + i;
                    const selected = document.querySelector(`input[name="${criteriaName}"]:checked`);
                    
                    if (!selected) {
                        allRated = false;
                        break;
                    }
                    
                    const criteriaValue = parseInt(selected.value);
                    score += criteriaValue;
                    criteriaCount++;
                    
                    // Store individual score for display
                    individualScores.push({
                        number: i,
                        value: criteriaValue
                    });
                }
                
                if (!allRated) {
                    alert('Please rate all criteria / សូមផ្តល់ពិន្ទុគ្រប់លក្ខណៈវិនិច្ឆ័យ');
                    return;
                }
                
                // Calculate average
                const average = (score / criteriaCount).toFixed(2);
                
                // Store evaluation
                evaluations.push({
                    employee: selectedEmployee,
                    totalScore: score,
                    averageScore: parseFloat(average),
                    date: now.toLocaleDateString('en-US', options) + ' / ' + now.toLocaleDateString('km-KH', options),
                    criteriaScores: [...individualScores]
                });
                
                // Send data to Google Sheets
                const formData = new URLSearchParams();
                formData.append('employee', selectedEmployee);
                formData.append('totalScore', score);
                formData.append('averageScore', average);
                formData.append('date', now.toLocaleDateString('en-US', options) + ' / ' + now.toLocaleDateString('km-KH', options));
                formData.append('criteriaScores', JSON.stringify(individualScores));
                
                fetch('https://script.google.com/macros/s/AKfycbxsgbtsRPNbSfp2onoeX58piEPha8JtGODQeVoRCWXlunkPNBt1KRyEB9a-CWox1gzs/exec', {
                    method: 'POST',
                    body: formData,
                    headers: {
                        'Content-Type': 'application/x-www-form-urlencoded'
                    }
                }).then(response => response.text()).then(data => {
                    console.log('Data sent to Google Sheets:', data);
                }).catch(error => {
                    console.error('Error sending data to Google Sheets:', error);
                });
                
                // Check if more employees
                if (currentIndex < employees.length - 1) {
                    currentIndex++;
                    updateDisplay();
                    
                    // Reset ratings
                    const ratingInputs = document.querySelectorAll('input[type="radio"]');
                    ratingInputs.forEach(input => input.checked = false);
                    
                    // Reset visual state of rating options
                    const ratingNumbers = document.querySelectorAll('.rating-number');
                    ratingNumbers.forEach(number => {
                        number.style.backgroundColor = '#ecf0f1';
                        number.style.color = '#333';
                    });
                    
                    // Scroll back to form
                    document.querySelector('.container').scrollIntoView({ behavior: 'smooth' });
                } else {
                    // Display all results
                    allResultsContent.innerHTML = '<div class="table-responsive"><table style="width:100%; border-collapse: collapse;"><thead><tr><th style="border:1px solid #ddd; padding:8px;">Employee / មន្ត្រី</th><th style="border:1px solid #ddd; padding:8px;">Total Score / ពិន្ទុសរុប</th><th style="border:1px solid #ddd; padding:8px;">Average Score / ពិន្ទុមធ្យម</th><th style="border:1px solid #ddd; padding:8px;">Date / កាលបរិច្ឆេទ</th></tr></thead><tbody>' +
                        evaluations.map(eval => `<tr><td style="border:1px solid #ddd; padding:8px;">${eval.employee}</td><td style="border:1px solid #ddd; padding:8px;">${eval.totalScore}/60</td><td style="border:1px solid #ddd; padding:8px;">${eval.averageScore}/5</td><td style="border:1px solid #ddd; padding:8px;">${eval.date}</td></tr>`).join('') +
                        '</tbody></table></div><div style="text-align: center; margin-top: 20px;"><button onclick="window.location.href=\'about:blank\'" style="padding: 10px 20px; background: #e74c3c; color: white; border: none; cursor: pointer;">Exit Site / ចាកចេញ</button></div>';
                    allResultsSection.style.display = 'block';
                    
                    // Hide form and employee info sections
                    document.querySelector('.employee-info').style.display = 'none';
                    document.getElementById('evaluationForm').style.display = 'none';
                    
                    allResultsSection.scrollIntoView({ behavior: 'smooth' });
                    
                    // Temporarily disabled for testing: Mark as evaluated to prevent further submissions
                     localStorage.setItem('evaluated', 'true');
                }
            });
            
            // Handle form reset
            resetBtn.addEventListener('click', function() {
                if (confirm('Are you sure you want to reset the form? / តើអ្នកពិតជាចង់សម្អាតទម្រង់នេះទេ?')) {
                    form.reset();
                    summarySection.style.display = 'none';
                    allResultsSection.style.display = 'none';
                    currentIndex = 0;
                    evaluations = [];
                    updateDisplay();
                    
                    // Reset visual state of rating options
                    const ratingNumbers = document.querySelectorAll('.rating-number');
                    ratingNumbers.forEach(number => {
                        number.style.backgroundColor = '#ecf0f1';
                        number.style.color = '#333';
                    });
                }
            });
            
            // Add interactivity to rating options
            const ratingOptions = document.querySelectorAll('.rating-option');
            ratingOptions.forEach(option => {
                option.addEventListener('click', function() {
                    const input = this.querySelector('input');
                    input.checked = true;
                    
                    // Update visual state for all options in the same group
                    const groupName = input.name;
                    const groupOptions = document.querySelectorAll(`input[name="${groupName}"]`);
                    
                    groupOptions.forEach(opt => {
                        const parent = opt.closest('.rating-option');
                        if (opt.checked) {
                            parent.querySelector('.rating-number').style.backgroundColor = '#3498db';
                            parent.querySelector('.rating-number').style.color = 'white';
                        } else {
                            parent.querySelector('.rating-number').style.backgroundColor = '#ecf0f1';
                            parent.querySelector('.rating-number').style.color = '#333';
                        }
                    });
                });
            });
        });
    </script>
</body>
</html>